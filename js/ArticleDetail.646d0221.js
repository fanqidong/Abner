(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ArticleDetail"],{4578:function(t,e,s){"use strict";var a=s("b95e"),n=s.n(a);n.a},"49af":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page row pt100"},[s("h1",{staticClass:"tl"},[t._v("相册")]),t.photoArr.length?s("section",{staticClass:"photo-container"},[s("ul",{staticClass:"photo-wrapper flex-wrap"},t._l(t.photoArr,(function(t){return s("li",{key:t.size,staticClass:"photo-item"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.download_url,expression:"photo.download_url"}],attrs:{alt:t.name}})])})),0),t.$config.photo.openComment&&t.initComment?s("Comment"):t._e()],1):s("partLoading")],1)},n=[],i=(s("63ff"),s("e5af")),r=s("c0d6"),o=s("a761"),c=s("4cf6"),l={name:"Photo",data:function(){return{photoArr:[]}},components:{partLoading:o["a"],Comment:c["a"]},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.initComment=!0,t.next=3,r["a"].dispatch("queryPhoto");case 3:this.photoArr=t.sent;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){}},u=l,p=(s("f53a"),s("5511")),m=Object(p["a"])(u,a,n,!1,null,"88dd3a5c",null);e["default"]=m.exports},"672f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-detail row pt100",attrs:{id:"post"}},[t.post.body?s("div",{staticClass:"article-wrapper"},[s("section",{staticClass:"article-header"},[s("div",{staticClass:"article-cover",style:{backgroundImage:"url("+t.post.cover.src+")"}}),s("div",{staticClass:"title-wrapper"},[s("span",{staticClass:"article-title font22"},[t._v(t._s(t.post.title))]),s("div",{staticClass:"article-meta"},[s("div",{staticClass:"article-archive"},[s("i",{staticClass:"iconfont icon-guidangxiangmu"}),s("router-link",{staticClass:"article-category-link",attrs:{tag:"span",to:{name:"Category"}}},[t._v(t._s(t.post.milestone.title))])],1),s("ul",{staticClass:"arcitle-label align-center"},[s("i",{staticClass:"iconfont icon-biaoqian"}),t._l(t.post.labels,(function(e){return s("li",{key:e.id},[t._v(t._s(e.name))])}))],2),s("div",{staticClass:"article-date"},[s("i",{staticClass:"iconfont icon-calendar"}),s("time",{attrs:{datetime:t.post.created_at}},[t._v(t._s(t.post.timeinfo.date)+"丨"+t._s(t.post.timeinfo.time.toLowerCase()))])]),s("div",{staticClass:"article-hot"},[s("i",{staticClass:"iconfont icon-eye"}),s("span",[t._v(t._s(t.post.times?t.post.times:1))])])]),s("h2",{staticClass:"article-month"},[t._v(t._s(t.post.timeinfo.month))])])]),s("section",{staticClass:"article-main bfff"},[s("div",{staticClass:"article-menu tr font16 fw600"},[s("router-link",{attrs:{to:{name:"Home",params:{type:"ArticleDetail"}}}},[t._v("返回首页")]),s("span",[t._v(">")]),s("router-link",{attrs:{to:{name:"Archive"}}},[t._v("文章归档")])],1),s("MarkDown",{attrs:{content:t.post.body,target:"#post"}}),s("div",{staticClass:"article-reward",class:t.qrShow&&"active"},[s("div",{staticClass:"article-reward-button font16 is-href",on:{click:function(e){t.qrShow=!t.qrShow}}},[t._v("赏")]),t._m(0)])],1),s("section",{staticClass:"post-siblings clearfix"},[s("div",{staticClass:"prev post-button"},[s("a",{staticClass:"post-title",attrs:{href:"javascript:;","data-number":t.prevPost.number},on:{click:function(e){return t.goDetail(t.prevPost.number)}}},[s("span",[t._v("上一篇丨")]),s("span",[t._v(t._s(t.prevPost.title))])])]),s("div",{staticClass:"next post-button"},[s("a",{staticClass:"post-title",attrs:{href:"javascript:;","data-number":t.nextPost.number},on:{click:function(e){return t.goDetail(t.nextPost.number)}}},[s("span",[t._v("下一篇丨")]),s("span",[t._v(t._s(t.nextPost.title))])])])]),t.$config.articleDetail.openComment&&t.initComment?s("Comment"):t._e()],1):t._e(),t.isLoading?s("partLoading"):t._e()],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"article-reward-qr flex flex-around"},[s("li",[s("img",{attrs:{src:"https://fanqidong.github.io/images/zfb.jpg",alt:""}})]),s("li",[s("img",{attrs:{src:"https://fanqidong.github.io/images/wx.png",alt:""}})])])}],i=(s("6d57"),s("63ff"),s("e5af")),r=s("c0d6"),o=s("68cc"),c=s("a761"),l=s("4cf6"),u=s("5880"),p=s("0c6d"),m=s("6be8"),h={name:"ArticleDetail",data:function(){return{number:"",post:[],postAll:[],prevPost:{},nextPost:{},isLoading:!0,initComment:!1,qrShow:!1,scrollTop:""}},components:{MarkDown:o["a"],partLoading:c["a"],Comment:l["a"]},computed:Object(u["mapState"])({posts:function(t){return t.posts},hasMore:function(t){return t.hasMore}}),created:function(){this.number=this.$route.params.number,this.queryPost(),this.getPosts(this.number)},mounted:function(){var t=this;document.documentElement.onclick=function(e){var s=e||event;s.target.classList.contains("article-reward-button")||(t.qrShow=!1)}},methods:{queryPost:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:this.number,t.next=3,r["a"].dispatch("queryPost",{number:e});case 3:this.post=t.sent,this.initComment=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPosts:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,!this.posts.length){t.next=5;break}this.postAll=this.posts,t.next=9;break;case 5:return t.next=7,Object(p["g"])({page:1,pageSize:""});case 7:this.postAll=t.sent,this.postAll.forEach(m["b"]);case 9:this.postAll.map((function(t,a,n){e==t.number&&(s.prevPost=n[a-1],s.nextPost=n[a+1],0==a&&(s.prevPost=n[n.length-1]),a==n.length-1&&(s.nextPost=n[0]))})),this.isLoading=!1,window.scrollTo(0,0);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goDetail:function(t){this.isLoading=!0,this.post="",this.$router.push({name:"ArticleDetail",params:{number:t}}),this.queryPost(t),this.getPosts(t)}}},f=h,d=(s("4578"),s("5511")),v=Object(d["a"])(f,a,n,!1,null,"3e74977c",null);e["default"]=v.exports},"7a61":function(t,e,s){},b95e:function(t,e,s){},f53a:function(t,e,s){"use strict";var a=s("7a61"),n=s.n(a);n.a}}]);